<Window x:Class="DJBookingSystem.VenueDailyScheduleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Daily Schedule - Venue Bookings" Height="650" Width="900"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#ECF0F1">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#2C3E50" Padding="15">
            <StackPanel>
                <TextBlock x:Name="VenueNameTextBlock"
                          Text="Daily Schedule"
                          FontSize="20"
                          FontWeight="Bold"
                          Foreground="White"/>
                <TextBlock x:Name="DateTextBlock"
                          Text="Today's Bookings"
                          FontSize="12"
                          Foreground="#ECF0F1"
                          Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Date Selector -->
        <Border Grid.Row="1" Background="White" Padding="15" Margin="10,10,10,0" BorderBrush="#BDC3C7" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Column="0" Text="Select Date:" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Bold"/>
                <DatePicker Grid.Column="1" x:Name="ScheduleDatePicker" SelectedDateChanged="ScheduleDatePicker_SelectedDateChanged" FontSize="14"/>

                <Button Grid.Column="2"
                       Content="Today"
                       Click="TodayButton_Click"
                       Padding="15,8"
                       Margin="10,0,0,0"
                       Background="#3498DB"
                       Foreground="White"
                       Cursor="Hand"/>

                <Button Grid.Column="3"
                       Content="Refresh"
                       Click="Refresh_Click"
                       Padding="15,8"
                       Margin="10,0,0,0"
                       Background="#27AE60"
                       Foreground="White"
                       Cursor="Hand"/>

                <Button Grid.Column="4"
                       x:Name="ClearDayButton"
                       Content="Clear This Day"
                       Click="ClearDay_Click"
                       Padding="15,8"
                       Margin="10,0,0,0"
                       Background="#E74C3C"
                       Foreground="White"
                       Cursor="Hand"/>
            </Grid>
        </Border>

        <!-- Schedule Grid -->
        <Border Grid.Row="2" Background="White" Margin="10" Padding="10" BorderBrush="#BDC3C7" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Statistics -->
                <Border Grid.Row="0" Background="#3498DB" Padding="10" Margin="0,0,0,10">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <TextBlock x:Name="TotalBookingsText"
                                  Text="Total Bookings: 0"
                                  Foreground="White"
                                  FontWeight="Bold"
                                  Margin="20,0"/>
                        <TextBlock x:Name="ConfirmedBookingsText"
                                  Text="Confirmed: 0"
                                  Foreground="#27AE60"
                                  FontWeight="Bold"
                                  Margin="20,0"/>
                        <TextBlock x:Name="PendingBookingsText"
                                  Text="Pending: 0"
                                  Foreground="#F39C12"
                                  FontWeight="Bold"
                                  Margin="20,0"/>
                    </StackPanel>
                </Border>

                <!-- Bookings List -->
                <DataGrid Grid.Row="1"
                         x:Name="ScheduleDataGrid"
                         AutoGenerateColumns="False"
                         IsReadOnly="True"
                         SelectionMode="Single"
                         Background="#0A0A0A"
                         Foreground="#00FF00"
                         BorderBrush="#00FF00"
                         BorderThickness="2"
                         GridLinesVisibility="All"
                         RowBackground="#001100"
                         AlternatingRowBackground="#002200"
                         RowHeight="35"
                         HeadersVisibility="Column"
                         FontFamily="Consolas">
                    
                    <!-- Column Header Style -->
                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="#000000"/>
                            <Setter Property="Foreground" Value="#FF1493"/>
                            <Setter Property="FontFamily" Value="Consolas"/>
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="FontSize" Value="12"/>
                            <Setter Property="Padding" Value="10,8"/>
                            <Setter Property="BorderBrush" Value="#FF1493"/>
                            <Setter Property="BorderThickness" Value="0,0,1,2"/>
                            <Setter Property="HorizontalContentAlignment" Value="Left"/>
                        </Style>
                    </DataGrid.ColumnHeaderStyle>
                    
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="Time" Binding="{Binding BookingDate, StringFormat='HH:mm'}" Width="80"/>
                        <DataGridTextColumn Header="DJ Name" Binding="{Binding DJName}" Width="150"/>
                        <DataGridTextColumn Header="Streaming Link" Binding="{Binding StreamingLink}" Width="*"/>
                        <DataGridTextColumn Header="Status" Binding="{Binding Status}" Width="100">
                            <DataGridTextColumn.ElementStyle>
                                <Style TargetType="TextBlock">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Status}" Value="Confirmed">
                                            <Setter Property="Foreground" Value="#27AE60"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Pending">
                                            <Setter Property="Foreground" Value="#F39C12"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </DataTrigger>
                                        <DataTrigger Binding="{Binding Status}" Value="Cancelled">
                                            <Setter Property="Foreground" Value="#E74C3C"/>
                                            <Setter Property="FontWeight" Value="Bold"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </DataGridTextColumn.ElementStyle>
                        </DataGridTextColumn>
                        <DataGridTextColumn Header="Duration" Binding="{Binding DurationHours, StringFormat={}{0} hour(s)}" Width="100"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- Footer Info -->
        <Border Grid.Row="3" Background="White" Padding="15" BorderBrush="#BDC3C7" BorderThickness="0,1,0,0">
            <Grid>
                <TextBlock HorizontalAlignment="Left" Foreground="#7F8C8D">
                    <Run Text="Note: Each DJ slot is 1 hour long. "/>
                    <Run Text="Clearing a day will remove all bookings for that date." FontWeight="Bold"/>
                </TextBlock>
                <Button Content="Close"
                       Click="Close_Click"
                       Padding="30,10"
                       HorizontalAlignment="Right"
                       Background="#3498DB"
                       Foreground="White"
                       Cursor="Hand"/>
            </Grid>
        </Border>
    </Grid>
</Window>
