<UserControl x:Class="DJBookingSystem.Controls.ConnectionIndicator"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Width="60" Height="60">
    
    <Grid>
        <!-- Claude Character -->
        <Canvas x:Name="ClaudeCanvas" Width="50" Height="50">
            <!-- Body (Circle) with glow effect -->
            <Ellipse x:Name="ClaudeBody" 
                     Width="40" Height="40" 
                     Canvas.Left="5" Canvas.Top="5"
                     Fill="#16213e">
                <Ellipse.Stroke>
                    <SolidColorBrush x:Name="BodyStroke" Color="{StaticResource AccentColor}"/>
                </Ellipse.Stroke>
                <Ellipse.StrokeThickness>2</Ellipse.StrokeThickness>
                <Ellipse.Effect>
                    <DropShadowEffect x:Name="BodyGlow" 
                                      Color="{StaticResource AccentColor}" 
                                      BlurRadius="15" 
                                      ShadowDepth="0" 
                                      Opacity="0.8"/>
                </Ellipse.Effect>
            </Ellipse>

            <!-- Left Eye -->
            <Ellipse x:Name="LeftEye" 
                     Width="6" Height="8" 
                     Canvas.Left="15" Canvas.Top="18">
                <Ellipse.Fill>
                    <SolidColorBrush x:Name="LeftEyeFill" Color="{StaticResource AccentColor}"/>
                </Ellipse.Fill>
            </Ellipse>

            <!-- Right Eye -->
            <Ellipse x:Name="RightEye" 
                     Width="6" Height="8" 
                     Canvas.Left="29" Canvas.Top="18">
                <Ellipse.Fill>
                    <SolidColorBrush x:Name="RightEyeFill" Color="{StaticResource AccentColor}"/>
                </Ellipse.Fill>
            </Ellipse>

            <!-- Mouth (Smile when connected, frown when disconnected) -->
            <Path x:Name="MouthPath" 
                  Data="M 18 28 Q 25 32 32 28" 
                  StrokeThickness="2" 
                  Fill="Transparent">
                <Path.Stroke>
                    <SolidColorBrush x:Name="MouthStroke" Color="{StaticResource AccentColor}"/>
                </Path.Stroke>
            </Path>

            <!-- Antenna -->
            <Line X1="25" Y1="5" X2="25" Y2="0">
                <Line.Stroke>
                    <SolidColorBrush x:Name="AntennaStroke" Color="{StaticResource AccentColor}"/>
                </Line.Stroke>
                <Line.StrokeThickness>2</Line.StrokeThickness>
            </Line>

            <!-- Signal dot on antenna -->
            <Ellipse x:Name="SignalDot" 
                     Width="4" Height="4" 
                     Canvas.Left="23" Canvas.Top="-2">
                <Ellipse.Fill>
                    <SolidColorBrush x:Name="SignalDotFill" Color="{StaticResource AccentColor}"/>
                </Ellipse.Fill>
                <Ellipse.Effect>
                    <DropShadowEffect x:Name="SignalGlow" 
                                      Color="{StaticResource AccentColor}" 
                                      BlurRadius="8" 
                                      ShadowDepth="0" 
                                      Opacity="1"/>
                </Ellipse.Effect>
            </Ellipse>

            <!-- Connection waves (only visible when checking) -->
            <Path x:Name="Wave1" 
                  Data="M 8 20 Q 3 25 8 30" 
                  StrokeThickness="1.5" 
                  Opacity="0"
                  Fill="Transparent">
                <Path.Stroke>
                    <SolidColorBrush Color="{StaticResource AccentColor}"/>
                </Path.Stroke>
            </Path>
            
            <Path x:Name="Wave2" 
                  Data="M 42 20 Q 47 25 42 30" 
                  StrokeThickness="1.5" 
                  Opacity="0"
                  Fill="Transparent">
                <Path.Stroke>
                    <SolidColorBrush Color="{StaticResource AccentColor}"/>
                </Path.Stroke>
            </Path>
        </Canvas>

        <!-- Tooltip showing connection details -->
        <Grid.ToolTip>
            <ToolTip Background="#1a1a2e" 
                     BorderBrush="{StaticResource AccentBrush}"
                     BorderThickness="2">
                <StackPanel>
                    <TextBlock x:Name="TooltipText" 
                               Text="ðŸŒ Connection Status" 
                               Foreground="{StaticResource AccentBrush}"
                               FontFamily="Consolas"
                               FontSize="12"
                               FontWeight="Bold"/>
                    <TextBlock x:Name="DatabaseStatus" 
                               Text="ðŸ“Š Database: Connected"
                               Foreground="{StaticResource AccentBrush}"
                               FontFamily="Consolas"
                               FontSize="10"
                               Margin="0,5,0,0"/>
                    <TextBlock x:Name="RadioStatus" 
                               Text="ðŸ“» Radio: Not Connected"
                               Foreground="#888888"
                               FontFamily="Consolas"
                               FontSize="10"
                               Margin="0,2,0,0"/>
                </StackPanel>
            </ToolTip>
        </Grid.ToolTip>
    </Grid>
</UserControl>
