<Window x:Class="DJBookingSystem.RadioBossControlWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="RadioBOSS Cloud Control Panel - Always On Top" 
        Height="900" 
        Width="1600"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        ResizeMode="CanResize"
        Topmost="True"
        ShowInTaskbar="True"
        Background="Black"
        WindowStyle="SingleBorderWindow">
    
    <Window.Resources>
        <!-- Fallen Collective Theme Colors -->
        <SolidColorBrush x:Key="AccentBrush" Color="#00FF00"/>
        <SolidColorBrush x:Key="BackgroundBrush" Color="#000000"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#00FF00"/>
        <SolidColorBrush x:Key="WarningBrush" Color="#FFD700"/>
        
        <!-- Primary Button Style -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#00FF00"/>
            <Setter Property="Foreground" Value="#000000"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#00FF00" BlurRadius="20" ShadowDepth="0" Opacity="1"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <!-- Secondary Button Style -->
        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#000000"/>
            <Setter Property="Foreground" Value="#00FF00"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="BorderBrush" Value="#00FF00"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#0A0A0A"/>
                    <Setter Property="Effect">
                        <Setter.Value>
                            <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0" Opacity="0.8"/>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Header -->
            <RowDefinition Height="*"/>    <!-- WebBrowser -->
            <RowDefinition Height="Auto"/> <!-- Status Bar -->
        </Grid.RowDefinitions>
        
        <!-- HEADER SECTION -->
        <Border Grid.Row="0" 
                Background="{StaticResource BackgroundBrush}"
                BorderBrush="{StaticResource BorderBrush}"
                BorderThickness="0,0,0,2"
                Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <!-- Title -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="RadioBOSS Cloud Control Panel"
                               FontSize="18" FontWeight="Bold"
                               Foreground="{StaticResource AccentBrush}"
                               FontFamily="Consolas" VerticalAlignment="Center">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0"/>
                        </TextBlock.Effect>
                    </TextBlock>
                </StackPanel>
                
                <!-- Access Mode Indicator -->
                <Border Grid.Column="1" Background="#0A0A0A"
                        BorderBrush="{StaticResource BorderBrush}" BorderThickness="2"
                        CornerRadius="4" Padding="15,5" Margin="20,0"
                        HorizontalAlignment="Center" VerticalAlignment="Center">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="AccessModeText" Text="VIEW-ONLY MODE"
                                   FontSize="14" FontWeight="Bold"
                                   Foreground="{StaticResource WarningBrush}" FontFamily="Consolas"/>
                    </StackPanel>
                </Border>
                
                <!-- Control Buttons -->
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button x:Name="RefreshButton" Content="Refresh"
                            Click="RefreshButton_Click"
                            Style="{StaticResource PrimaryButtonStyle}" Margin="5,0"/>
                    <Button x:Name="HomeButton" Content="Home"
                            Click="HomeButton_Click"
                            Style="{StaticResource PrimaryButtonStyle}" Margin="5,0"/>
                    <Button x:Name="CloseButton" Content="Close"
                            Click="CloseButton_Click"
                            Style="{StaticResource SecondaryButtonStyle}" Margin="5,0"/>
                </StackPanel>
            </Grid>
        </Border>
        
        <!-- WEBBROWSER CONTAINER (Replaced WebView2) -->
        <Border Grid.Row="1" Background="{StaticResource BackgroundBrush}"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="2,0,2,0">
            <Grid>
                <!-- Loading Indicator -->
                <Border x:Name="LoadingPanel" Background="#000000" Visibility="Visible">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Text="Loading RadioBOSS Control Panel..."
                                   FontSize="18" Foreground="{StaticResource AccentBrush}"
                                   FontFamily="Consolas" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                        <ProgressBar IsIndeterminate="True" Width="300" Height="4"
                                    Foreground="{StaticResource AccentBrush}" Background="#0A0A0A"/>
                    </StackPanel>
                </Border>
                
                <!-- Standard WPF WebBrowser Control (Replaced WebView2) -->
                <WebBrowser x:Name="RadioBossWebView"
                           Navigated="WebView_Navigated"/>
                
                <!-- Access Control Overlay (blocks interactions for non-admin users) -->
                <Border x:Name="AccessControlOverlay"
                        Background="Transparent"
                        Visibility="Collapsed"
                        IsHitTestVisible="False"/>
            </Grid>
        </Border>
        
        <!-- STATUS BAR -->
        <Border Grid.Row="2" Background="#0A0A0A"
                BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,2,0,0" Padding="15,8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <TextBlock Grid.Column="0" x:Name="CurrentUrlText"
                           Text="https://c40.radioboss.fm/#home"
                           FontSize="11" Foreground="#888888"
                           FontFamily="Consolas" VerticalAlignment="Center"/>
                <TextBlock Grid.Column="2" x:Name="UserRoleText"
                           Text="Logged in as: DJ User"
                           FontSize="11" Foreground="{StaticResource AccentBrush}"
                           FontFamily="Consolas" VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
