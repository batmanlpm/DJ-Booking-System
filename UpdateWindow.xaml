<Window x:Class="DJBookingSystem.UpdateWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Software Update" 
        Height="500" 
        Width="600"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize">
    
    <Border Background="#DD000000" 
            BorderBrush="#00FF00" 
            BorderThickness="2" 
            CornerRadius="15">
        <Border.Effect>
            <DropShadowEffect Color="#00FF00" BlurRadius="20" ShadowDepth="0" Opacity="0.6"/>
        </Border.Effect>
        
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- Title -->
                <RowDefinition Height="Auto"/> <!-- Icon -->
                <RowDefinition Height="*"/>    <!-- Content -->
                <RowDefinition Height="Auto"/> <!-- Progress -->
                <RowDefinition Height="Auto"/> <!-- Buttons -->
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="?? Software Update Available"
                          x:Name="TitleText"
                          FontSize="24"
                          FontWeight="Bold"
                          Foreground="#00FF00"
                          FontFamily="Consolas"
                          HorizontalAlignment="Center"/>
            </Grid>

            <!-- Update Icon -->
            <Viewbox Grid.Row="1" 
                    Height="80" 
                    Width="80" 
                    Margin="0,0,0,20"
                    HorizontalAlignment="Center">
                <TextBlock Text="??" FontSize="80"/>
            </Viewbox>

            <!-- Update Information -->
            <ScrollViewer Grid.Row="2" 
                         VerticalScrollBarVisibility="Auto"
                         Margin="0,0,0,20">
                <StackPanel>
                    <!-- Version Info -->
                    <Border Background="#0A0A0A"
                           BorderBrush="#00FF00"
                           BorderThickness="1"
                           CornerRadius="8"
                           Padding="15"
                           Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="Version Information"
                                      FontFamily="Consolas"
                                      FontSize="14"
                                      FontWeight="Bold"
                                      Foreground="#00FF00"
                                      Margin="0,0,0,10"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0"
                                          Text="Current Version:"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          Foreground="#888888"
                                          Margin="0,3,10,3"/>
                                <TextBlock Grid.Row="0" Grid.Column="1"
                                          x:Name="CurrentVersionText"
                                          Text="1.0.0"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          Foreground="#FFFFFF"/>
                                
                                <TextBlock Grid.Row="1" Grid.Column="0"
                                          Text="New Version:"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          Foreground="#888888"
                                          Margin="0,3,10,3"/>
                                <TextBlock Grid.Row="1" Grid.Column="1"
                                          x:Name="NewVersionText"
                                          Text="1.1.0"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          FontWeight="Bold"
                                          Foreground="#00FF00"/>
                                
                                <TextBlock Grid.Row="2" Grid.Column="0"
                                          Text="Release Date:"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          Foreground="#888888"
                                          Margin="0,3,10,3"/>
                                <TextBlock Grid.Row="2" Grid.Column="1"
                                          x:Name="ReleaseDateText"
                                          Text="2024-12-01"
                                          FontFamily="Consolas"
                                          FontSize="12"
                                          Foreground="#FFFFFF"/>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- New Features -->
                    <Border Background="#0A0A0A"
                           BorderBrush="#00FF00"
                           BorderThickness="1"
                           CornerRadius="8"
                           Padding="15"
                           Margin="0,0,0,15">
                        <StackPanel>
                            <TextBlock Text="? New Features"
                                      FontFamily="Consolas"
                                      FontSize="14"
                                      FontWeight="Bold"
                                      Foreground="#00FF00"
                                      Margin="0,0,0,10"/>
                            
                            <ItemsControl x:Name="FeaturesListBox">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}"
                                                  FontFamily="Consolas"
                                                  FontSize="12"
                                                  Foreground="#CCCCCC"
                                                  TextWrapping="Wrap"
                                                  Margin="0,3"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </Border>

                    <!-- Bug Fixes -->
                    <Border Background="#0A0A0A"
                           BorderBrush="#00FF00"
                           BorderThickness="1"
                           CornerRadius="8"
                           Padding="15">
                        <StackPanel>
                            <TextBlock Text="?? Bug Fixes"
                                      FontFamily="Consolas"
                                      FontSize="14"
                                      FontWeight="Bold"
                                      Foreground="#00FF00"
                                      Margin="0,0,0,10"/>
                            
                            <ItemsControl x:Name="BugFixesListBox">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding}"
                                                  FontFamily="Consolas"
                                                  FontSize="12"
                                                  Foreground="#CCCCCC"
                                                  TextWrapping="Wrap"
                                                  Margin="0,3"/>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- Progress Bar -->
            <StackPanel Grid.Row="3" 
                       Margin="0,0,0,20"
                       x:Name="ProgressPanel"
                       Visibility="Collapsed">
                <TextBlock x:Name="ProgressText"
                          Text="Downloading update..."
                          FontFamily="Consolas"
                          FontSize="12"
                          Foreground="#00FF00"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,10"/>
                
                <ProgressBar x:Name="UpdateProgressBar"
                            Height="25"
                            Minimum="0"
                            Maximum="100"
                            Value="0"
                            Background="#0A0A0A"
                            Foreground="#00FF00"
                            BorderBrush="#00FF00"
                            BorderThickness="1"/>
                
                <TextBlock x:Name="ProgressPercentText"
                          Text="0%"
                          FontFamily="Consolas"
                          FontSize="11"
                          Foreground="#888888"
                          HorizontalAlignment="Center"
                          Margin="0,5,0,0"/>
            </StackPanel>

            <!-- Buttons -->
            <StackPanel Grid.Row="4" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Center"
                       x:Name="ButtonPanel">
                <Button Content="?? Update Now"
                       x:Name="UpdateButton"
                       Click="Update_Click"
                       Width="150"
                       Height="45"
                       Background="#00FF00"
                       Foreground="#000000"
                       FontFamily="Consolas"
                       FontSize="14"
                       FontWeight="Bold"
                       BorderThickness="0"
                       Cursor="Hand"
                       Margin="5">
                    <Button.Effect>
                        <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0"/>
                    </Button.Effect>
                </Button>
                
                <Button Content="Later"
                       x:Name="LaterButton"
                       Click="Later_Click"
                       Width="100"
                       Height="45"
                       Background="#333333"
                       Foreground="#FFFFFF"
                       FontFamily="Consolas"
                       FontSize="14"
                       BorderThickness="0"
                       Cursor="Hand"
                       Margin="5"/>
                
                <Button Content="View Changelog"
                       x:Name="ChangelogButton"
                       Click="Changelog_Click"
                       Width="150"
                       Height="45"
                       Background="Transparent"
                       Foreground="#00FF00"
                       FontFamily="Consolas"
                       FontSize="12"
                       BorderBrush="#00FF00"
                       BorderThickness="1"
                       Cursor="Hand"
                       Margin="5"/>
            </StackPanel>
        </Grid>
    </Border>
</Window>
