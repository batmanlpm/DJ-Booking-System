<Window x:Class="DJBookingSystem.DiscordConnectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Connect to Discord" 
        Height="600" 
        Width="650"
        WindowStartupLocation="CenterScreen"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">
    
    <Window.Resources>
        <Style x:Key="SpaceButton" TargetType="Button">
            <Setter Property="Background" Value="#001100"/>
            <Setter Property="Foreground" Value="#00FF00"/>
            <Setter Property="BorderBrush" Value="#00FF00"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Padding" Value="15,8"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#003300"/>
                </Trigger>
                <Trigger Property="IsPressed" Value="True">
                    <Setter Property="Background" Value="#005500"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="SpaceTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="#0A0A0A"/>
            <Setter Property="Foreground" Value="#00FF00"/>
            <Setter Property="BorderBrush" Value="#00FF00"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="CaretBrush" Value="#00FF00"/>
        </Style>
    </Window.Resources>

    <Border Background="#0A0A0A" BorderBrush="#5865F2" BorderThickness="3" CornerRadius="0">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title Bar -->
            <Grid Grid.Row="0" Margin="0,0,0,20">
                <TextBlock Text="CONNECT TO DISCORD" 
                          FontSize="20" 
                          FontWeight="Bold" 
                          Foreground="#5865F2" 
                          FontFamily="Consolas"
                          HorizontalAlignment="Center"/>
            </Grid>

            <!-- Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <!-- Info Section -->
                    <Border Background="#2c2f33" BorderBrush="#5865F2" BorderThickness="2" Padding="15" Margin="0,0,0,20" CornerRadius="5">
                        <StackPanel>
                            <TextBlock Text="Discord Bot Setup" 
                                      FontSize="14" 
                                      FontWeight="Bold" 
                                      Foreground="#5865F2" 
                                      Margin="0,0,0,10"/>
                            <TextBlock TextWrapping="Wrap" 
                                      Foreground="#DCDDDE" 
                                      FontFamily="Consolas" 
                                      FontSize="11"
                                      Margin="0,0,0,5">
                                Enter your Discord bot credentials for real-time chat integration:
                            </TextBlock>
                            <Button Content="Setup Instructions" 
                                   Style="{StaticResource SpaceButton}"
                                   Margin="0,10,0,0"
                                   Click="GetHelp_Click"
                                   HorizontalAlignment="Left"/>
                        </StackPanel>
                    </Border>

                    <!-- Bot Token Input -->
                    <StackPanel Margin="0,0,0,15">
                        <TextBlock Text="Discord Bot Token:" 
                                  Foreground="#5865F2" 
                                  FontFamily="Consolas" 
                                  FontWeight="Bold"
                                  Margin="0,0,0,8"/>
                        <TextBox x:Name="BotTokenTextBox" 
                                Style="{StaticResource SpaceTextBox}"
                                Height="40"
                                VerticalContentAlignment="Center"/>
                        <TextBlock Text="Get your bot token from Discord Developer Portal" 
                                  Foreground="#666666" 
                                  FontFamily="Consolas" 
                                  FontSize="10"
                                  Margin="0,5,0,0"/>
                    </StackPanel>

                    <!-- Channel ID Input -->
                    <StackPanel Margin="0,0,0,15">
                        <TextBlock Text="Channel ID:" 
                                  Foreground="#5865F2" 
                                  FontFamily="Consolas" 
                                  FontWeight="Bold"
                                  Margin="0,0,0,8"/>
                        <TextBox x:Name="ChannelIdTextBox" 
                                Style="{StaticResource SpaceTextBox}"
                                Height="40"
                                VerticalContentAlignment="Center"/>
                        <TextBlock Text="Right-click channel in Discord, Copy ID (requires Developer Mode)" 
                                  Foreground="#666666" 
                                  FontFamily="Consolas" 
                                  FontSize="10"
                                  Margin="0,5,0,0"/>
                    </StackPanel>

                    <!-- Channel Name (Display Only) -->
                    <StackPanel Margin="0,0,0,15">
                        <TextBlock Text="Channel Name (for display):" 
                                  Foreground="#5865F2" 
                                  FontFamily="Consolas" 
                                  FontWeight="Bold"
                                  Margin="0,0,0,8"/>
                        <TextBox x:Name="ChannelNameTextBox" 
                                Style="{StaticResource SpaceTextBox}"
                                Height="35"
                                VerticalContentAlignment="Center"
                                Text="#general"/>
                    </StackPanel>

                    <!-- Status Message -->
                    <Border Background="#16213e" BorderBrush="#FFD700" BorderThickness="2" Padding="12" Margin="0,10,0,15" CornerRadius="5">
                        <TextBlock x:Name="StatusText" 
                                  Text="Configure settings above and test your connection" 
                                  Foreground="#FFD700"
                                  FontFamily="Consolas"
                                  FontSize="11"
                                  TextWrapping="Wrap"/>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- Bottom Buttons -->
            <Grid Grid.Row="2" Margin="0,20,0,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <Button Grid.Column="1" 
                       Content="TEST CONNECTION" 
                       Style="{StaticResource SpaceButton}"
                       Click="TestConnection_Click"
                       Margin="0,0,10,0"/>
                
                <Button Grid.Column="2" 
                       Content="SAVE" 
                       Style="{StaticResource SpaceButton}"
                       Click="Save_Click"
                       Margin="0,0,10,0"/>
                
                <Button Grid.Column="3" 
                       Content="CANCEL" 
                       Style="{StaticResource SpaceButton}"
                       Click="Cancel_Click"
                       BorderBrush="#FF0000"
                       Foreground="#FF0000"/>
            </Grid>
        </Grid>
    </Border>
</Window>
