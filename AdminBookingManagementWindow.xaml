<Window x:Class="DJBookingSystem.AdminBookingManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Admin Booking Management" 
        Height="900" 
        Width="1400"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        Background="#000000"
        WindowStyle="None"
        AllowsTransparency="True">
    
    <Window.Resources>
        <!-- Admin Button Style -->
        <Style x:Key="AdminButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#00FF00"/>
            <Setter Property="Foreground" Value="#000000"/>
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                </Setter.Value>
            </Setter>
        </Style>
        
        <!-- Danger Button Style -->
        <Style x:Key="DangerButtonStyle" TargetType="Button" BasedOn="{StaticResource AdminButtonStyle}">
            <Setter Property="Background" Value="#FF0000"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="#FF0000" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>
    
    <!-- Main Border with Neon Glow -->
    <Border BorderBrush="#00FF00" BorderThickness="2" Background="#000000">
        <Border.Effect>
            <DropShadowEffect Color="#00FF00" BlurRadius="20" ShadowDepth="0" Opacity="0.6"/>
        </Border.Effect>
        
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/> <!-- Title Bar -->
                <RowDefinition Height="*"/>    <!-- Content -->
            </Grid.RowDefinitions>
            
            <!-- Title Bar -->
            <Border Grid.Row="0" Background="#0A0A0A" BorderBrush="#00FF00" BorderThickness="0,0,0,2" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Grid Height="40">
                    <TextBlock Text="?? ADMIN BOOKING MANAGEMENT" 
                              FontFamily="Consolas" 
                              FontSize="18" 
                              FontWeight="Bold" 
                              Foreground="#00FF00" 
                              HorizontalAlignment="Center" 
                              VerticalAlignment="Center">
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0"/>
                        </TextBlock.Effect>
                    </TextBlock>
                    <Button Content="?" 
                           Click="Close_Click"
                           HorizontalAlignment="Right"
                           VerticalAlignment="Center"
                           Width="40"
                           Height="30"
                           Background="Transparent"
                           Foreground="#FF0000"
                           FontSize="20"
                           FontWeight="Bold"
                           BorderThickness="0"
                           Cursor="Hand"/>
                </Grid>
            </Border>
            
            <!-- Main Content -->
            <TabControl Grid.Row="1" Background="#000000" BorderThickness="0">
                
                <!-- Tab 1: Manual Booking Creator -->
                <TabItem Header="? Create Manual Booking" FontFamily="Consolas" FontSize="14" Foreground="#00FF00">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Border Background="#0A0A0A" Margin="20" Padding="30" BorderBrush="#00FF00" BorderThickness="2" CornerRadius="8">
                            <StackPanel MaxWidth="700">
                                <TextBlock Text="?? CREATE DJ BOOKING" 
                                          FontFamily="Consolas" 
                                          FontSize="20" 
                                          FontWeight="Bold" 
                                          Foreground="#00FF00" 
                                          HorizontalAlignment="Center"
                                          Margin="0,0,0,30">
                                    <TextBlock.Effect>
                                        <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                                
                                <!-- DJ Name -->
                                <TextBlock Text="DJ Name:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <TextBox x:Name="DJNameTextBox" 
                                        Background="#000000" 
                                        Foreground="#00FF00" 
                                        BorderBrush="#00FF00" 
                                        BorderThickness="2" 
                                        Padding="15,12" 
                                        FontFamily="Consolas" 
                                        FontSize="16"
                                        Height="50"
                                        Margin="0,0,0,20"/>
                                
                                <!-- Streaming Link -->
                                <TextBlock Text="Streaming Link:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <TextBox x:Name="StreamingLinkTextBox" 
                                        Background="#000000" 
                                        Foreground="#00FF00" 
                                        BorderBrush="#00FF00" 
                                        BorderThickness="2" 
                                        Padding="15,12" 
                                        FontFamily="Consolas" 
                                        FontSize="16"
                                        Height="50"
                                        Margin="0,0,0,20"/>
                                
                                <!-- Venue Selection -->
                                <TextBlock Text="Venue:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <ComboBox x:Name="VenueComboBox" 
                                         Background="#000000" 
                                         Foreground="#00FF00" 
                                         BorderBrush="#00FF00" 
                                         BorderThickness="2" 
                                         Padding="15,12" 
                                         FontFamily="Consolas" 
                                         FontSize="16"
                                         Height="50"
                                         Margin="0,0,0,20"/>
                                
                                <!-- Date & Time Selection -->
                                <TextBlock Text="Booking Date:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <DatePicker x:Name="BookingDatePicker" 
                                           Background="#000000" 
                                           Foreground="#00FF00" 
                                           BorderBrush="#00FF00" 
                                           BorderThickness="2" 
                                           Padding="15,12" 
                                           FontFamily="Consolas" 
                                           FontSize="16"
                                           Height="50"
                                           Margin="0,0,0,20"/>
                                
                                <TextBlock Text="Time Slot:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,30">
                                    <ComboBox x:Name="HourComboBox" 
                                             Background="#000000" 
                                             Foreground="#00FF00" 
                                             BorderBrush="#00FF00" 
                                             BorderThickness="2" 
                                             Padding="15,12" 
                                             FontFamily="Consolas" 
                                             FontSize="16"
                                             Width="100"
                                             Height="50"/>
                                    <TextBlock Text=":" Foreground="#00FF00" FontSize="32" Margin="15,0" VerticalAlignment="Center"/>
                                    <ComboBox x:Name="MinuteComboBox" 
                                             Background="#000000" 
                                             Foreground="#00FF00" 
                                             BorderBrush="#00FF00" 
                                             BorderThickness="2" 
                                             Padding="15,12" 
                                             FontFamily="Consolas" 
                                             FontSize="16"
                                             Width="100"
                                             Height="50"/>
                                </StackPanel>
                                
                                <!-- Action Buttons -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button Content="?? CREATE BOOKING" 
                                           Click="CreateBooking_Click" 
                                           Style="{StaticResource AdminButtonStyle}" 
                                           Width="200"
                                           Height="60"
                                           FontSize="16"/>
                                    <Button Content="??? CLEAR FORM" 
                                           Click="ClearForm_Click" 
                                           Style="{StaticResource DangerButtonStyle}" 
                                           Width="150"
                                           Height="60"
                                           FontSize="14"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </ScrollViewer>
                </TabItem>
                
                <!-- Tab 2: View & Manage All Bookings -->
                <TabItem Header="?? Manage Bookings" FontFamily="Consolas" FontSize="14" Foreground="#00FF00">
                    <Grid Margin="20">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Filter & Search -->
                        <Border Grid.Row="0" Background="#0A0A0A" BorderBrush="#00FF00" BorderThickness="2" CornerRadius="8" Padding="15" Margin="0,0,0,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Filter by Venue:" Foreground="#00FF00" FontFamily="Consolas" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <ComboBox x:Name="FilterVenueComboBox" 
                                         Background="#000000" 
                                         Foreground="#00FF00" 
                                         BorderBrush="#00FF00" 
                                         Width="200" 
                                         SelectionChanged="FilterVenue_SelectionChanged"/>
                                <Button Content="?? Refresh" 
                                       Click="RefreshBookings_Click" 
                                       Style="{StaticResource AdminButtonStyle}" 
                                       Margin="20,0,0,0"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Bookings DataGrid -->
                        <DataGrid Grid.Row="1" 
                                 x:Name="BookingsDataGrid"
                                 AutoGenerateColumns="False"
                                 CanUserAddRows="False"
                                 SelectionMode="Single"
                                 Background="#0A0A0A"
                                 Foreground="#00FF00"
                                 BorderBrush="#00FF00"
                                 BorderThickness="2"
                                 RowBackground="#001100"
                                 AlternatingRowBackground="#002200"
                                 GridLinesVisibility="All"
                                 HorizontalGridLinesBrush="#00FF00"
                                 VerticalGridLinesBrush="#00FF00"
                                 FontFamily="Consolas">
                            
                            <!-- Column Header Style -->
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#000000"/>
                                    <Setter Property="Foreground" Value="#FF1493"/>
                                    <Setter Property="FontFamily" Value="Consolas"/>
                                    <Setter Property="FontWeight" Value="Bold"/>
                                    <Setter Property="FontSize" Value="12"/>
                                    <Setter Property="Padding" Value="10,8"/>
                                    <Setter Property="BorderBrush" Value="#FF1493"/>
                                    <Setter Property="BorderThickness" Value="0,0,1,2"/>
                                    <Setter Property="HorizontalContentAlignment" Value="Left"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="DJ Name" Binding="{Binding DJName}" Width="200"/>
                                <DataGridTextColumn Header="Venue" Binding="{Binding Venue}" Width="200"/>
                                <DataGridTextColumn Header="Date" Binding="{Binding BookingDate, StringFormat=\{0:MM/dd/yyyy\}}" Width="120"/>
                                <DataGridTextColumn Header="Time" Binding="{Binding BookingDate, StringFormat=\{0:HH:mm\}}" Width="100"/>
                                <DataGridTextColumn Header="Streaming Link" Binding="{Binding StreamingLink}" Width="300"/>
                                <DataGridTextColumn Header="Created" Binding="{Binding CreatedAt, StringFormat=\{0:MM/dd/yyyy HH:mm\}}" Width="150"/>
                            </DataGrid.Columns>
                        </DataGrid>
                        
                        <!-- Action Buttons -->
                        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,10,0,0">
                            <Button Content="?? EDIT BOOKING" 
                                   Click="EditBooking_Click" 
                                   Style="{StaticResource AdminButtonStyle}"/>
                            <Button Content="??? DELETE BOOKING" 
                                   Click="DeleteBooking_Click" 
                                   Style="{StaticResource DangerButtonStyle}"/>
                        </StackPanel>
                    </Grid>
                </TabItem>
                
                <!-- Tab 3: Clear Schedules -->
                <TabItem Header="??? Clear Schedules" FontFamily="Consolas" FontSize="14" Foreground="#00FF00">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Border Background="#0A0A0A" Margin="20" Padding="30" BorderBrush="#00FF00" BorderThickness="2" CornerRadius="8">
                            <StackPanel MaxWidth="700">
                                <TextBlock Text="?? CLEAR DAY SCHEDULE" 
                                          FontFamily="Consolas" 
                                          FontSize="20" 
                                          FontWeight="Bold" 
                                          Foreground="#FF0000" 
                                          HorizontalAlignment="Center"
                                          Margin="0,0,0,20">
                                    <TextBlock.Effect>
                                        <DropShadowEffect Color="#FF0000" BlurRadius="15" ShadowDepth="0"/>
                                    </TextBlock.Effect>
                                </TextBlock>
                                
                                <TextBlock Text="?? WARNING: This action will delete ALL bookings for the selected venue on the selected day!" 
                                          Foreground="#FF0000" 
                                          FontFamily="Consolas" 
                                          FontWeight="Bold" 
                                          FontSize="14"
                                          TextWrapping="Wrap" 
                                          HorizontalAlignment="Center"
                                          Margin="0,0,0,30"/>
                                
                                <!-- Venue Selection -->
                                <TextBlock Text="Select Venue:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <ComboBox x:Name="ClearVenueComboBox" 
                                         Background="#000000" 
                                         Foreground="#00FF00" 
                                         BorderBrush="#00FF00" 
                                         BorderThickness="2" 
                                         Padding="15,12" 
                                         FontFamily="Consolas" 
                                         FontSize="16"
                                         Height="50"
                                         Margin="0,0,0,20"/>
                                
                                <!-- Date Selection -->
                                <TextBlock Text="Select Date to Clear:" Foreground="#00FF00" FontFamily="Consolas" FontWeight="Bold" Margin="0,0,0,5"/>
                                <DatePicker x:Name="ClearDatePicker" 
                                           Background="#000000" 
                                           Foreground="#00FF00" 
                                           BorderBrush="#00FF00" 
                                           BorderThickness="2" 
                                           Padding="15,12" 
                                           FontFamily="Consolas" 
                                           FontSize="16"
                                           Height="50"
                                           Margin="0,0,0,30"/>
                                
                                <!-- Preview -->
                                <TextBlock x:Name="ClearPreviewText" 
                                          Text="No bookings found for selected date" 
                                          Foreground="#888888" 
                                          FontFamily="Consolas" 
                                          FontStyle="Italic"
                                          TextWrapping="Wrap" 
                                          HorizontalAlignment="Center"
                                          Margin="0,0,0,20"/>
                                
                                <!-- Action Buttons -->
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                    <Button Content="?? PREVIEW" 
                                           Click="PreviewClear_Click" 
                                           Style="{StaticResource AdminButtonStyle}" 
                                           Width="150"
                                           Height="60"/>
                                    <Button Content="??? CLEAR DAY" 
                                           Click="ClearDaySchedule_Click" 
                                           Style="{StaticResource DangerButtonStyle}" 
                                           Width="200"
                                           Height="60"
                                           FontSize="16"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>
                    </ScrollViewer>
                </TabItem>
                
            </TabControl>
        </Grid>
    </Border>
</Window>
