# WPF Application Architecture Restructure Plan

## Current Problem
MainWindow.xaml.cs is becoming too large with mixed concerns:
- UI logic
- Business logic
- Event handlers for multiple features
- Style definitions scattered

## Solution: Modular Architecture

### 1. **Separate Views (UserControls) for Each Menu Item**

Create individual UserControl files for each section:

```
Views/
??? Bookings/
?   ??? BookingsView.xaml          (View bookings grid)
?   ??? BookingsView.xaml.cs
?   ??? BookingFormView.xaml       (Create new booking)
?   ??? BookingFormView.xaml.cs
??? Venues/
?   ??? VenuesView.xaml            (Open decks)
?   ??? VenuesView.xaml.cs
??? Radio/
?   ??? RadioPlayerView.xaml
?   ??? RadioPlayerView.xaml.cs
??? Chat/
?   ??? ChatView.xaml
?   ??? ChatView.xaml.cs
??? Theme/
?   ??? ThemeCustomizerView.xaml
?   ??? ThemeCustomizerView.xaml.cs
??? Admin/
?   ??? AdminPanelView.xaml
?   ??? AdminPanelView.xaml.cs
??? Settings/
?   ??? SettingsView.xaml
?   ??? SettingsView.xaml.cs
??? Help/
    ??? HelpView.xaml
    ??? HelpView.xaml.cs
```

### 2. **Centralized Style Resources**

```
Styles/
??? GlobalStyles.xaml              (Window, Border, Common controls)
??? ButtonStyles.xaml              (All button styles)
??? TextStyles.xaml                (TextBlock, TextBox styles)
??? MenuStyles.xaml                (Menu, MenuItem styles)
??? DataGridStyles.xaml            (DataGrid styles)
??? PanelStyles.xaml               (StackPanel, Grid backgrounds)
```

### 3. **ViewModels for Business Logic**

```
ViewModels/
??? BookingsViewModel.cs
??? VenuesViewModel.cs
??? RadioViewModel.cs
??? ChatViewModel.cs
??? ThemeViewModel.cs
??? AdminViewModel.cs
??? SettingsViewModel.cs
??? HelpViewModel.cs
```

### 4. **Updated MainWindow Structure**

MainWindow becomes a **shell** that:
- Handles navigation
- Loads UserControls dynamically
- Manages global state

## Implementation Steps

### Phase 1: Create Style Resources
1. Extract all styles from MainWindow.xaml
2. Organize into separate XAML files
3. Reference in App.xaml

### Phase 2: Create UserControl Views
1. Create Views folder structure
2. Move tab content to individual UserControls
3. Add x:Name for controls that need events

### Phase 3: Create ViewModels (Optional but Recommended)
1. Implement INotifyPropertyChanged
2. Move business logic from code-behind
3. Use data binding instead of direct control access

### Phase 4: Update MainWindow
1. Simplify MainWindow.xaml to navigation shell
2. Use ContentControl to host dynamic views
3. Clean up MainWindow.xaml.cs

## Benefits

### Before (Current)
```
MainWindow.xaml           (3000+ lines)
MainWindow.xaml.cs        (5000+ lines)
Styles mixed everywhere
All logic in one file
```

### After (Proposed)
```
MainWindow.xaml           (~300 lines - just shell)
MainWindow.xaml.cs        (~500 lines - navigation only)
Views/                    (8 UserControls, ~300 lines each)
Styles/                   (6 style files, reusable)
ViewModels/              (8 files, clean separation)
```

### Advantages
? **Maintainability**: Each feature in its own file
? **Performance**: Load views on-demand
? **Reusability**: Share styles and components
? **Testing**: Easier to unit test ViewModels
? **Team Collaboration**: Multiple devs can work simultaneously
? **Debugging**: Faster to find issues
? **Scalability**: Easy to add new features

## Alternative: Multiple Windows (Not Recommended)

You could open separate Windows for each menu item, but this has downsides:
- ? Multiple window instances in taskbar
- ? More memory usage
- ? Harder to maintain shared state
- ? Poor UX (windows everywhere)
- ? Style inconsistencies

## Recommended Approach: ContentControl with UserControls

This is what modern WPF apps use (VS Code, Visual Studio, etc.)

---

## Ready to Implement?

I can help you:
1. **Extract all styles** to separate files
2. **Create the Views folder structure** with UserControls
3. **Move existing content** from MainWindow to Views
4. **Simplify MainWindow** to just navigation

Would you like me to start with:
- A) Creating the style resources first?
- B) Creating the UserControl views?
- C) Both at the same time?

This will make your codebase MUCH more maintainable!
