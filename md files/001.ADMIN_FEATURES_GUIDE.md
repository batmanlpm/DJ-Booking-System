# ?? DJ Booking System - Admin Features Guide

## ?? Admin Access Levels

### **SysAdmin & Manager Roles**
Both SysAdmin and Manager have **full administrative access** to all features:

- ? Create, Edit, Delete Venues
- ? Set independent opening hours for each day
- ? Create manual bookings for DJs
- ? Edit any booking
- ? Delete any booking
- ? Clear entire day schedules
- ? Manage users (view, edit, ban, etc.)

---

## ??? Venue Management

### **Access: Admin Menu ? Manage Venues**

### Features:
1. **Create New Venue**
   - Click "? New Venue"
   - Fill in venue details
   - Set weekly schedule
   - Save

2. **Edit Venue**
   - Select venue from list
   - Modify details on the right panel
   - Click "?? SAVE VENUE"

3. **Delete Venue**
   - Select venue from list
   - Click "??? Delete"
   - Confirm deletion

### Weekly Schedule Configuration:
Each day can be configured independently with:
- ? **Open/Closed** status checkbox
- ? **Opening Time** (24-hour format, e.g., "20:00")
- ? **Closing Time** (24-hour format, e.g., "02:00")

**Example:**
```
Monday:    CLOSED
Tuesday:   OPEN  20:00 - 02:00
Wednesday: OPEN  19:00 - 01:00
Thursday:  OPEN  21:00 - 03:00
Friday:    OPEN  20:00 - 04:00
Saturday:  OPEN  22:00 - 06:00
Sunday:    CLOSED
```

---

## ?? Booking Management

### **Access: Admin Menu ? Manage Bookings**

### Tab 1: Create Manual Booking
**When to use:** Create bookings on behalf of DJs

1. Enter **DJ Name**
2. Enter **Streaming Link**
3. Select **Venue**
4. Select **Date**
5. Select **Time** (Hour:Minute)
6. Click "?? CREATE BOOKING"

**Features:**
- ? Automatic conflict detection
- ? Validates venue opening hours
- ? Sends Discord notifications (if webhook configured)
- ? Prevents double-booking

### Tab 2: Manage Bookings
**View and manage all bookings:**

- ?? **Filter** by venue
- ?? **Edit** any booking
- ??? **Delete** any booking
- ?? **Refresh** to update list

### Tab 3: Clear Schedules
**?? WARNING: Use with caution!**

**When to use:**
- Cancel an entire day due to technical issues
- Clear old bookings
- Reset venue schedule

**How to use:**
1. Select **Venue**
2. Select **Date** to clear
3. Click "?? PREVIEW" to see bookings that will be deleted
4. Click "??? CLEAR DAY" to delete all bookings for that day
5. Confirm the action

**Safety Features:**
- Preview before deletion
- Shows exactly what will be deleted
- Requires explicit confirmation
- Cannot be undone!

---

## ?? Quick Actions

### Create Venue Example:
```
Name: The Matrix Club
Description: Premium nightclub with state-of-the-art sound system
Discord Webhook: https://discord.com/api/webhooks/...
Status: OPEN

Weekly Schedule:
- Thursday:  OPEN  21:00 - 03:00
- Friday:    OPEN  22:00 - 04:00
- Saturday:  OPEN  22:00 - 06:00
```

### Create Manual Booking Example:
```
DJ Name: DJ Neon
Streaming Link: https://mixcloud.com/djneon
Venue: The Matrix Club
Date: 2025-01-15
Time: 22:00
```

---

## ?? Best Practices

### For Venue Management:
1. ? Set realistic opening hours
2. ? Keep descriptions clear and concise
3. ? Configure Discord webhooks for auto-notifications
4. ? Only mark venues as "Closed" temporarily

### For Booking Management:
1. ? Always verify DJ details before creating manual bookings
2. ? Check for conflicts before booking
3. ? Use clear, valid streaming links
4. ? Communicate with DJs before creating/editing their bookings

### For Clearing Schedules:
1. ?? **Always preview** before clearing
2. ?? **Notify DJs** whose bookings will be deleted
3. ?? **Document** why the day was cleared
4. ?? **Only clear** when absolutely necessary

---

## ?? Permissions Summary

| Feature | SysAdmin | Manager | Regular User |
|---------|----------|---------|--------------|
| Create Venues | ? | ? | ? |
| Edit Venues | ? | ? | ? |
| Delete Venues | ? | ? | ? |
| Create Manual Bookings | ? | ? | ? |
| Edit Any Booking | ? | ? | Own Only |
| Delete Any Booking | ? | ? | Own Only |
| Clear Day Schedules | ? | ? | ? |
| Manage Users | ? | ? | ? |

---

## ?? Troubleshooting

### "Booking Conflict" Error
- Another booking exists at that exact time
- Check the "Manage Bookings" tab to see existing bookings

### "Venue Closed" Error
- The venue is not open on the selected day
- Edit the venue's weekly schedule to open that day

### Can't Delete Venue
- Ensure you have proper permissions
- Check if there are future bookings (delete them first)

### Clear Day Not Working
- Ensure you selected both venue and date
- Click "Preview" first to verify
- Confirm the deletion when prompted

---

## ?? Tips & Tricks

1. **Bulk Operations**: Use the Clear Day feature for quick cleanup
2. **Weekly Patterns**: Set up weekly schedules to match venue policies
3. **Discord Integration**: Add webhooks to auto-notify communities
4. **Time Format**: Use 24-hour format (20:00 = 8 PM, 02:00 = 2 AM)
5. **Cross-Midnight Hours**: Closing time can be after midnight (e.g., 02:00 = 2 AM next day)

---

## ?? Technical Notes

- **Time Zones**: All times are stored in the system's time zone
- **Conflict Detection**: Automatic on booking creation
- **Data Persistence**: All changes saved immediately to Azure Cosmos DB
- **Discord Notifications**: Sent automatically when venue has webhook configured
- **Audit Trail**: All bookings track creation date/time

---

**Need Help?** Contact the development team or check the Help Guide in the application!

**Version:** 3.0  
**Last Updated:** 2025-01-15
