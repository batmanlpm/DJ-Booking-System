# Multi-Drive Search - Auto Destination Feature

## Overview
The Multi-Drive Search Window now automatically sets a default destination path based on the file extensions being searched.

## Auto-Destination Path Structure
```
C:\Users\[CurrentUser]\Documents\CandyBot-Documents\[ExtensionFolder]\
```

## Folder Naming Logic

### Intelligent Categorization
Common file types are automatically grouped into friendly folder names:

- **Music** (.mp3, .wav, .flac, .m4a, .aac, .ogg, .wma)
- **Images** (.jpg, .jpeg, .png, .gif, .bmp, .svg, .webp)
- **Videos** (.mp4, .avi, .mkv, .mov, .wmv, .flv, .webm)
- **Documents** (.pdf, .docx, .doc, .txt, .xlsx, .xls, .pptx, .ppt)
- **Archives** (.zip, .rar, .7z, .tar, .gz, .bz2)
- **Code** (.cs, .js, .py, .java, .cpp, .h, .html, .css, .sql)

### Custom Extensions
For non-standard extensions, the folder is named after the extension in uppercase:
- `.world` → `C:\Users\[User]\Documents\CandyBot-Documents\WORLD\`
- `.custom` → `C:\Users\[User]\Documents\CandyBot-Documents\CUSTOM\`

## How It Works

### 1. Search Trigger
When you perform a search (either via "SEARCH ALL DRIVES" button or Quick Search buttons):

### 2. Automatic Setup
The system:
- Parses the file extensions you're searching for
- Determines the appropriate folder name
- Creates the full path: `Documents\CandyBot-Documents\[FolderName]`
- Creates the directory structure if it doesn't exist
- Sets the destination text box automatically

### 3. Ready to Use
The destination path is now pre-filled and ready for:
- Copy Files operation
- Move Files operation

## Examples

### Example 1: Music Search
**Search for:** `.mp3, .wav, .flac`
**Auto-Destination:** `C:\Users\Shane\Documents\CandyBot-Documents\Music\`

### Example 2: World Files
**Search for:** `.world`
**Auto-Destination:** `C:\Users\Shane\Documents\CandyBot-Documents\WORLD\`

### Example 3: Documents Search
**Search for:** `.pdf, .docx, .txt`
**Auto-Destination:** `C:\Users\Shane\Documents\CandyBot-Documents\Documents\`

### Example 4: Custom Extension
**Search for:** `.blueprint`
**Auto-Destination:** `C:\Users\Shane\Documents\CandyBot-Documents\BLUEPRINT\`

## User Control

### Override Default
Users can still:
- Manually change the destination path in the text box
- Use the "..." browse button to select a different folder
- Leave it empty to be prompted later

### Multiple Extensions
When searching multiple extensions:
- The first extension determines the folder name
- Example: `.mp3, .doc, .zip` → Uses "Music" (from .mp3)

## Benefits

✅ **Time Saving** - No need to manually create folders or browse for destinations
✅ **Organization** - Files are automatically organized by type
✅ **Consistency** - All CandyBot file operations use the same folder structure
✅ **Smart** - Recognizes common file types and groups them intelligently
✅ **Flexible** - Users can still override if needed

## Technical Details

### Path Construction
```csharp
string documentsPath = Environment.GetFolderPath(Environment.SpecialFolder.MyDocuments);
string candyBotBase = Path.Combine(documentsPath, "CandyBot-Documents");
string destinationPath = Path.Combine(candyBotBase, folderName);
```

### Folder Creation
```csharp
if (!Directory.Exists(destinationPath))
{
    Directory.CreateDirectory(destinationPath);
}
```

### Status Updates
The status bar shows: `"Default destination set to: C:\Users\...\CandyBot-Documents\Music\"`

## Error Handling
If folder creation fails:
- Error is logged in status bar
- Search continues normally
- User can manually set destination

---

**Created:** November 17, 2025
**Feature:** Auto-Destination for Multi-Drive Search
**Status:** ✅ Fully Implemented
