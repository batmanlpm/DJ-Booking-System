# Desktop Widget Icon Fix - Apply These Changes

## File: CandyBotDesktopWidget.xaml

### Fix 1: Title (Line 41)
**FIND:**
```xml
<TextBlock Text="?? Candy-Bot Desktop Widget"
```

**REPLACE WITH:**
```xml
<TextBlock Text="?? Candy-Bot Desktop Widget"
```

---

### Fix 2: Quick Action Buttons (Lines 93-137)

**FIND:**
```xml
<Button Content="?? Search"
       Click="QuickSearch_Click"
       .../>
<Button Content="?? Chat"
       Click="QuickChat_Click"
       .../>
<Button Content="?? Help"
       Click="QuickHelp_Click"
       .../>
```

**REPLACE WITH:**
```xml
<Button Content="?? Search"
       Click="QuickSearch_Click"
       .../>
<Button Content="?? Chat"
       Click="QuickChat_Click"
       .../>
<Button Content="? Help"
       Click="QuickHelp_Click"
       .../>
```

---

###Fix 3: Tab Header (Line 141)

**FIND:**
```xml
<TabItem Header="?? Info">
```

**REPLACE WITH:**
```xml
<TabItem Header="?? Info">
```

---

## Complete Search & Replace List

Use Find/Replace (Ctrl+H) in Visual Studio:

| Find This | Replace With | Location |
|-----------|--------------|----------|
| `Text="?? Candy-Bot Desktop Widget"` | `Text="?? Candy-Bot Desktop Widget"` | Line ~41 |
| `Content="?? Search"` | `Content="?? Search"` | Line ~93 |
| `Content="?? Chat"` | `Content="?? Chat"` | Line ~105 |
| `Content="?? Help"` | `Content="? Help"` | Line ~117 |
| `Header="?? Info"` | `Header="?? Info"` | Line ~141 |

---

## Additional Icons to Check

Search for ANY remaining `??` in the file and replace:

```
??  ?  Appropriate emoji
```

Common replacements:
- ?? Settings ? ?? Settings
- ?? Files ? ?? Files
- ?? Tools ? ?? Tools
- ?? Favorites ? ? Favorites
- ?? History ? ?? History
- ?? Close ? ? Close
- ?? Minimize ? ? Minimize

---

## Avatar Image Check

The avatar control IS present in XAML (lines 76-83):
```xml
<controls:CandyBotAvatar x:Name="WidgetAvatar"
                        Width="80"
                        Height="80"
                        HorizontalAlignment="Center"
                        .../>
```

**If avatar doesn't show, check:**

1. **Image file exists:**
   ```
   K:\Customer Data\LPM\New-Booking-claude-initial-setup-011CV2Bn45svzRU7VxANArie\Fallen-Collective-Booking\Resources\Images\CandyBotAvatar.png
   ```

2. **Image properties:**
   - Build Action: Resource
   - Copy to Output Directory: Copy if newer

3. **In CandyBotAvatar.xaml check Source path:**
   ```xml
   <Image Source="/Resources/Images/CandyBotAvatar.png" .../>
   ```

---

## Testing After Fix

1. **Build solution** (Ctrl+Shift+B)
2. **Run app** (F5)
3. **Right-click Candy-Bot avatar**
4. **Click "??? Launch Desktop Mode"** (should be first item!)
5. **Verify desktop widget shows:**
   - Title: "?? Candy-Bot Desktop Widget" ?
   - Avatar: Rainbow candy in center ?
   - Buttons: ?? Search, ?? Chat, ? Help ?
   - Tab: ?? Info ?

---

## Quick Fix Script

If you want to fix ALL ?? at once, use this PowerShell script:

```powershell
$file = "CandyBotDesktopWidget.xaml"
$content = Get-Content $file -Raw

# Replace all ?? instances
$content = $content -replace 'Text="[?][?] Candy-Bot', 'Text="?? Candy-Bot'
$content = $content -replace 'Content="[?][?] Search', 'Content="?? Search'
$content = $content -replace 'Content="[?][?] Chat', 'Content="?? Chat'
$content = $content -replace 'Content="[?][?] Help', 'Content="? Help'
$content = $content -replace 'Header="[?][?] Info', 'Header="?? Info'
$content = $content -replace 'Content="[?][?] Settings', 'Content="?? Settings'
$content = $content -replace 'Content="[?][?] Files', 'Content="?? Files'

# Save
Set-Content $file $content -Encoding UTF8

Write-Host "? Fixed all ?? placeholders!" -ForegroundColor Green
```

---

## Result Preview

### Before:
```
Title: ?? Candy-Bot Desktop Widget
Avatar: [Should show but maybe not?]
Buttons: ?? Search | ?? Chat | ?? Help
Tab: ?? Info
```

### After:
```
Title: ?? Candy-Bot Desktop Widget
Avatar: [Rainbow candy avatar visible]
Buttons: ?? Search | ?? Chat | ? Help
Tab: ?? Info
```

Perfect! ??
