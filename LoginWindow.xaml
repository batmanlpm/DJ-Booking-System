<Window x:Class="DJBookingSystem.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:DJBookingSystem.Controls"
        Title="DJ Booking System - Login" 
        Height="950" 
        Width="800"
        WindowStartupLocation="CenterScreen"
        ResizeMode="CanResize"
        MinHeight="800"
        MinWidth="700"
        Background="Black">
    <Window.Resources>
        <!-- Fade-in animation -->
        <Storyboard x:Key="FadeInAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="0.0" To="1.0" Duration="0:0:0.8"/>
        </Storyboard>

        <!-- Animated Button Style -->
        <Style x:Key="AnimatedButtonStyle" TargetType="Button">
            <Setter Property="FontFamily" Value="Consolas"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="15,10"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" BlurRadius="8" ShadowDepth="3" Opacity="0.5"/>
                </Setter.Value>
            </Setter>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                               To="1.05" Duration="0:0:0.2"/>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                               To="1.05" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)"
                                               To="1" Duration="0:0:0.2"/>
                                <DoubleAnimation Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)"
                                               To="1" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Login Button Style (Blue) -->
        <Style x:Key="LoginButtonStyle" TargetType="Button" BasedOn="{StaticResource AnimatedButtonStyle}">
            <Setter Property="Background" Value="#3498DB"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#2980B9"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2980B9"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Register Button Style (Green) -->
        <Style x:Key="RegisterButtonStyle" TargetType="Button" BasedOn="{StaticResource AnimatedButtonStyle}">
            <Setter Property="Background" Value="#27AE60"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#229954"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#229954"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Support Button Style (Red) -->
        <Style x:Key="SupportButtonStyle" TargetType="Button" BasedOn="{StaticResource AnimatedButtonStyle}">
            <Setter Property="Background" Value="#E74C3C"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#C0392B"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#C0392B"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>

    <Grid Background="Black">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>   <!-- Claude Indicators -->
            <RowDefinition Height="Auto"/>   <!-- Stay On Top -->
            <RowDefinition Height="Auto"/>   <!-- Logo/Header -->
            <RowDefinition Height="Auto"/>   <!-- Title -->
            <RowDefinition Height="*"/>      <!-- Login Form -->
            <RowDefinition Height="Auto"/>   <!-- Buttons -->
            <RowDefinition Height="20"/>     <!-- Bottom padding -->
        </Grid.RowDefinitions>

        <!-- Connection Status Indicators (4 Claudes) -->
        <StackPanel Grid.Row="0" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Center"
                    Margin="0,10,0,10">
            <controls:ClaudeIndicator x:Name="CosmosIndicator"
                                      ServiceName="Azure Cosmos DB"
                                      LabelText="Cosmos"
                                      IsConnected="True"
                                      Margin="8,0"/>
            <controls:ClaudeIndicator x:Name="LPMIndicator"
                                      ServiceName="Live Party Music"
                                      LabelText="LPM.fm"
                                      IsConnected="True"
                                      Margin="8,0"/>
            <controls:ClaudeIndicator x:Name="RadioBossIndicator"
                                      ServiceName="RadioBOSS Control"
                                      LabelText="Booking"
                                      IsConnected="True"
                                      Margin="8,0"/>
            <controls:ClaudeIndicator x:Name="StreamIndicator"
                                      ServiceName="RadioBOSS Stream"
                                      LabelText="Live Status"
                                      IsConnected="True"
                                      Margin="8,0"/>
        </StackPanel>

        <!-- Stay On Top Checkbox -->
        <CheckBox x:Name="StayOnTopCheckBox" 
                  Grid.Row="1"
                  Content="Stay On Top" 
                  Margin="20,5,0,5" 
                  HorizontalAlignment="Left"
                  Checked="StayOnTopCheckBox_Checked" 
                  Unchecked="StayOnTopCheckBox_Unchecked" 
                  Foreground="#00FF00" 
                  FontFamily="Consolas"
                  FontSize="12"/>

        <!-- Logo/Header Image -->
        <Border Grid.Row="2" 
                Height="150"
                Margin="0,10,0,10"
                HorizontalAlignment="Center">
            <Image Source="/Screenshot 2025-11-03 204531.png" 
                   Stretch="Uniform"
                   MaxHeight="150"/>
        </Border>

        <!-- Title -->
        <StackPanel Grid.Row="3" Margin="0,10,0,20">
            <TextBlock Text="DJ BOOKING SYSTEM"
                       FontSize="36"
                       FontWeight="Bold"
                       Foreground="#00FF00"
                       FontFamily="Consolas" 
                       TextAlignment="Center"
                       HorizontalAlignment="Center">
                <TextBlock.Effect>
                    <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0" Opacity="0.8"/>
                </TextBlock.Effect>
            </TextBlock>
            <TextBlock Text="&amp; MANAGEMENT SYSTEM"
                       FontSize="24"
                       FontWeight="Bold"
                       Foreground="#00FF00"
                       FontFamily="Consolas" 
                       TextAlignment="Center"
                       Margin="0,5,0,0"
                       HorizontalAlignment="Center">
                <TextBlock.Effect>
                    <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                </TextBlock.Effect>
            </TextBlock>
        </StackPanel>

        <!-- Login Form -->
        <StackPanel Grid.Row="4" 
                    MaxWidth="500"
                    Margin="20,0,20,20"
                    VerticalAlignment="Center">
            
            <!-- Error Message -->
            <TextBlock x:Name="ErrorMessageTextBlock"
                       Text=""
                       Foreground="#E74C3C"
                       FontSize="12"
                       FontFamily="Consolas"
                       TextWrapping="Wrap"
                       Visibility="Collapsed"
                       Margin="0,0,0,10"
                       TextAlignment="Center"/>

            <!-- Username Label -->
            <TextBlock Text="Username" 
                       Foreground="#00FF00" 
                       FontWeight="Bold"
                       FontFamily="Consolas"
                       FontSize="14"
                       Margin="0,0,0,5"/>
            
            <!-- Username TextBox -->
            <TextBox x:Name="UsernameTextBox"
                     Height="45"
                     Padding="12"
                     FontSize="14"
                     FontFamily="Consolas"
                     Background="#1a1a1a"
                     Foreground="#00FF00"
                     BorderBrush="#00FF00"
                     BorderThickness="2"
                     TextChanged="UsernameTextBox_TextChanged"
                     Margin="0,0,0,15">
                <TextBox.Effect>
                    <DropShadowEffect Color="#00FF00" BlurRadius="5" ShadowDepth="0" Opacity="0.3"/>
                </TextBox.Effect>
            </TextBox>

            <!-- Password Label -->
            <TextBlock Text="Password" 
                       Foreground="#00FF00" 
                       FontWeight="Bold"
                       FontFamily="Consolas"
                       FontSize="14"
                       Margin="0,0,0,5"/>
            
            <!-- Password PasswordBox -->
            <PasswordBox x:Name="PasswordBox"
                         Height="45"
                         Padding="12"
                         FontSize="14"
                         FontFamily="Consolas"
                         Background="#1a1a1a"
                         Foreground="#00FF00"
                         BorderBrush="#00FF00"
                         BorderThickness="2"
                         PasswordChar="#"
                         PasswordChanged="PasswordBox_PasswordChanged"
                         KeyDown="PasswordBox_KeyDown"
                         Margin="0,0,0,10">
                <PasswordBox.Effect>
                    <DropShadowEffect Color="#00FF00" BlurRadius="5" ShadowDepth="0" Opacity="0.3"/>
                </PasswordBox.Effect>
            </PasswordBox>

            <!-- Password Error Hint -->
            <TextBlock x:Name="PasswordErrorHint"
                       Text="Incorrect password, please try again"
                       Foreground="#E74C3C"
                       FontSize="11"
                       FontStyle="Italic"
                       FontFamily="Consolas"
                       Visibility="Collapsed"
                       Margin="0,0,0,10"/>

            <!-- Checkboxes (Remember Me & Auto Login) -->
            <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                <CheckBox x:Name="RememberMeCheckBox"
                          Content="Remember Me"
                          Checked="RememberMeCheckBox_Checked"
                          Unchecked="RememberMeCheckBox_Unchecked"
                          Foreground="#00FF00" 
                          FontWeight="Bold"
                          FontFamily="Consolas"
                          FontSize="12"
                          Margin="0,0,20,0"/>
                
                <CheckBox x:Name="AutoLoginCheckBox"
                          Content="Auto Login"
                          Foreground="#FFD700" 
                          FontWeight="Bold"
                          FontFamily="Consolas"
                          FontSize="12"
                          IsEnabled="False"
                          Checked="AutoLoginCheckBox_Checked"
                          Unchecked="AutoLoginCheckBox_Unchecked">
                    <CheckBox.ToolTip>
                        <ToolTip Background="#0A0A0A" 
                                 BorderBrush="#FFD700" 
                                 BorderThickness="2"
                                 Foreground="#FFD700"
                                 FontFamily="Consolas"
                                 FontSize="11">
                            <TextBlock Text="Automatically log in next time&#x0a;(Requires 'Remember Me' to be checked)" TextWrapping="Wrap"/>
                        </ToolTip>
                    </CheckBox.ToolTip>
                </CheckBox>
            </StackPanel>
        </StackPanel>

        <!-- Action Buttons -->
        <Grid Grid.Row="5" Margin="20,0,20,10" MaxWidth="600">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- New Account Button -->
            <Button Grid.Column="0"
                    Content="New Account"
                    Click="Register_Click"
                    Style="{StaticResource RegisterButtonStyle}"
                    Height="45"
                    Margin="0,0,5,0"/>

            <!-- Contact Support Button -->
            <Button Grid.Column="1"
                    Content="Support"
                    Click="ContactSupportButton_Click"
                    Style="{StaticResource SupportButtonStyle}"
                    Height="45"
                    Margin="5,0,5,0"/>

            <!-- Login Button -->
            <Button Grid.Column="2"
                    x:Name="LoginButton"
                    Content="Login"
                    Click="Login_Click"
                    Style="{StaticResource LoginButtonStyle}"
                    Height="45"
                    Margin="5,0,0,0"/>
        </Grid>
    </Grid>
</Window>
