<UserControl x:Class="DJBookingSystem.Views.VenuesManagementView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1160">
    <UserControl.Background>
        <ImageBrush ImageSource="/New-BG.png" Stretch="UniformToFill" Opacity="0.8"/>
    </UserControl.Background>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Loading Overlay -->
        <Border x:Name="LoadingOverlay"
               Grid.RowSpan="2"
               Background="#DD000000"
               Visibility="Collapsed"
               Panel.ZIndex="1000">
            <StackPanel HorizontalAlignment="Center" 
                       VerticalAlignment="Center">
                <TextBlock Text="? LOADING VENUES..."
                          FontSize="24"
                          FontWeight="Bold"
                          Foreground="#00FF00"
                          FontFamily="Consolas"
                          HorizontalAlignment="Center"
                          Margin="0,0,0,20">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#00FF00" BlurRadius="15" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
                <TextBlock x:Name="LoadingMessage"
                          Text="Please wait..."
                          FontSize="12"
                          Foreground="#00BFFF"
                          FontFamily="Consolas"
                          HorizontalAlignment="Center"
                          TextWrapping="Wrap"
                          MaxWidth="400"/>
            </StackPanel>
        </Border>

        <!-- VENUES CONTROL ROW -->
        <Border Grid.Row="0" 
                Background="#0A0A0A" 
                BorderBrush="#00FF00" 
                BorderThickness="0,0,0,2" 
                Padding="6">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Venues Buttons -->
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <TextBlock Text="VENUES:" 
                              Foreground="#FF1493" 
                              FontFamily="Consolas"
                              FontWeight="Bold"
                              FontSize="10"
                              VerticalAlignment="Center" 
                              Margin="0,0,10,0"/>
                    <Button x:Name="NewVenueButton" 
                           Content="New Venue"
                           Click="NewVenueButton_Click"
                           Background="#00FF00"
                           Foreground="#000000"
                           FontFamily="Consolas"
                           FontWeight="Bold"
                           Padding="15,8"
                           Margin="5,0"
                           Cursor="Hand"
                           BorderThickness="0">
                        <Button.Effect>
                            <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0" Opacity="0.8"/>
                        </Button.Effect>
                    </Button>
                    <Button x:Name="EditVenueButton" 
                           Content="Edit Venue"
                           Click="EditVenueButton_Click"
                           Background="#7D7D7D"
                           Foreground="#000000"
                           FontFamily="Consolas"
                           FontWeight="Bold"
                           Padding="15,8"
                           Margin="5,0"
                           Cursor="Hand"
                           BorderThickness="0"/>
                    <Button x:Name="DeleteVenueButton" 
                           Content="Delete Venue"
                           Click="DeleteVenueButton_Click"
                           Background="#FF0000"
                           Foreground="#FFFFFF"
                           FontFamily="Consolas"
                           FontWeight="Bold"
                           Padding="15,8"
                           Margin="5,0"
                           Cursor="Hand"
                           BorderThickness="0">
                        <Button.Effect>
                            <DropShadowEffect Color="#FF0000" BlurRadius="10" ShadowDepth="0" Opacity="0.6"/>
                        </Button.Effect>
                    </Button>
                    <Button x:Name="RefreshVenuesButton"
                           Content="Refresh"
                           Click="RefreshVenuesButton_Click"
                           Background="#7D7D7D"
                           Foreground="#000000"
                           FontFamily="Consolas"
                           FontWeight="Bold"
                           Padding="15,8"
                           Margin="5,0"
                           Cursor="Hand"
                           BorderThickness="0"/>
                </StackPanel>

                <!-- Title -->
                <TextBlock Grid.Column="1" 
                          Text="VENUES MANAGEMENT" 
                          FontSize="14" 
                          FontWeight="Bold" 
                          Foreground="#00FF00" 
                          FontFamily="Consolas" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Center">
                    <TextBlock.Effect>
                        <DropShadowEffect Color="#00FF00" BlurRadius="8" ShadowDepth="0"/>
                    </TextBlock.Effect>
                </TextBlock>
            </Grid>
        </Border>

        <!-- VENUES LIST -->
        <Border Grid.Row="1"
               Background="Black" 
               BorderBrush="#00FF00" 
               BorderThickness="2" 
               Margin="10">
            <DataGrid x:Name="VenuesDataGrid" 
                     Background="#0A0A0A" 
                     Foreground="#00FF00" 
                     BorderBrush="#00FF00" 
                     AutoGenerateColumns="False"
                     GridLinesVisibility="All"
                     AlternatingRowBackground="#001100"
                     RowBackground="#000000"
                     FontFamily="Consolas">
                
                <DataGrid.ColumnHeaderStyle>
                    <Style TargetType="DataGridColumnHeader">
                        <Setter Property="Background" Value="#000000"/>
                        <Setter Property="Foreground" Value="#FF1493"/>
                        <Setter Property="FontFamily" Value="Consolas"/>
                        <Setter Property="FontWeight" Value="Bold"/>
                        <Setter Property="FontSize" Value="12"/>
                        <Setter Property="Padding" Value="10,8"/>
                        <Setter Property="BorderBrush" Value="#FF1493"/>
                        <Setter Property="BorderThickness" Value="0,0,1,2"/>
                        <Setter Property="HorizontalContentAlignment" Value="Left"/>
                    </Style>
                </DataGrid.ColumnHeaderStyle>
                
                <DataGrid.Columns>
                    <DataGridTextColumn Header="Name" Binding="{Binding Name}" Width="200" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Description" Binding="{Binding Description}" Width="*" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Open Days" Binding="{Binding OpenDaysText}" Width="150" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Active Weeks" Binding="{Binding ActiveWeeksText}" Width="120" IsReadOnly="True"/>
                    <DataGridTextColumn Header="Owner" Binding="{Binding OwnerUsername}" Width="150" IsReadOnly="True"/>
                    <DataGridCheckBoxColumn Header="Active" Binding="{Binding IsActive}" Width="80" IsReadOnly="True"/>
                </DataGrid.Columns>
            </DataGrid>
        </Border>
    </Grid>
</UserControl>
