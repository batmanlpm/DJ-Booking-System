<UserControl x:Class="DJBookingSystem.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="700" d:DesignWidth="1160"
             Background="{DynamicResource AppBackgroundBrush}"
             Loaded="SettingsView_Loaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#0A0A0A" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="0,0,0,2" Padding="10">
            <TextBlock Text="SETTINGS" FontSize="18" FontWeight="Bold" Foreground="{DynamicResource AppPrimaryBrush}" FontFamily="Consolas" HorizontalAlignment="Center" VerticalAlignment="Center"/>
        </Border>

        <!-- Content -->
        <Border Grid.Row="1" Background="{DynamicResource AppBackgroundBrush}" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="2" Margin="10">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <StackPanel Margin="20">
                    <!-- About Section -->
                    <Border Background="#0A0A0A" BorderBrush="#00BFFF" BorderThickness="2" Padding="15" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="? About" FontSize="16" Foreground="#00BFFF" FontWeight="Bold" Margin="0,0,0,10"/>
                            <TextBlock x:Name="ProductNameTextBlock" FontSize="20" FontWeight="Bold" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5" Text="Candy-Bot"/>
                            <TextBlock x:Name="VersionTextBlock" Text="Version 1.2.5" FontSize="12" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                            <TextBlock x:Name="DescriptionTextBlock" Text="AI-powered DJ Booking &amp; Management System" FontSize="11" Foreground="#CCCCCC" TextWrapping="Wrap" Margin="0,10,0,0"/>
                            <TextBlock x:Name="CopyrightTextBlock" Text="Copyright (c) 2024 Fallen Collective" FontSize="10" Foreground="#888888" Margin="0,10,0,0"/>
                            <TextBlock x:Name="ReleaseDateTextBlock" Text="Released: November 19, 2024" FontSize="10" Foreground="#888888" Margin="0,5,0,0"/>
                            
                            <Border Background="#0F0F0F" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="1" Padding="10" Margin="0,15,0,10">
                                <StackPanel>
                                    <TextBlock Text="? Update Status" FontSize="12" FontWeight="Bold" Foreground="#00BFFF" Margin="0,0,0,5"/>
                                    <TextBlock x:Name="UpdateStatusTextBlock" Text="? Automatic updates enabled" FontSize="11" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,2"/>
                                    <TextBlock x:Name="LastCheckTextBlock" Text="Last checked: On startup" FontSize="10" Foreground="#888888" Margin="0,2"/>
                                    <TextBlock x:Name="NextCheckTextBlock" Text="Next check: In 24 hours" FontSize="10" Foreground="#888888" Margin="0,2"/>
                                </StackPanel>
                            </Border>
                            
                            <Button x:Name="CheckForUpdatesButton" Content="?? Check for Updates" Click="CheckForUpdates_Click" Style="{StaticResource SpaceButton}" Margin="0,5,0,0" HorizontalAlignment="Left"/>
                        </StackPanel>
                    </Border>
                    
                    <!-- COLOR PICKER SECTION -->
                    <TextBlock Text="?? App Colors" FontSize="16" Foreground="#00BFFF" FontWeight="Bold" Margin="0,0,0,10"/>
                    
                    <Border Background="#0F0F0F" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="2" Padding="15" Margin="0,0,0,20">
                        <StackPanel>
                            <!-- Background Color -->
                            <TextBlock Text="Background Color" FontSize="13" Foreground="{DynamicResource AppPrimaryBrush}" FontWeight="Bold" Margin="0,0,0,5"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5,0,15">
                                <Border x:Name="BackgroundPreview" Width="150" Height="50" Background="#000000" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="2" Margin="0,0,15,0" CornerRadius="5">
                                    <TextBlock x:Name="BackgroundHexText" Text="#000000" Foreground="White" FontFamily="Consolas" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <Button Content="?? Choose Color" Click="PickBackgroundColor_Click" Padding="20,12" FontSize="13" FontWeight="Bold" 
                                       Background="#004080" Foreground="White" BorderBrush="#00BFFF" BorderThickness="2">
                                    <Button.Effect>
                                        <DropShadowEffect Color="#00BFFF" BlurRadius="8" ShadowDepth="0"/>
                                    </Button.Effect>
                                </Button>
                            </StackPanel>
                            
                            <!-- Primary Color -->
                            <TextBlock Text="Primary Color (Text/Borders)" FontSize="13" Foreground="{DynamicResource AppPrimaryBrush}" FontWeight="Bold" Margin="0,10,0,5"/>
                            <StackPanel Orientation="Horizontal" Margin="0,5,0,10">
                                <Border x:Name="PrimaryPreview" Width="150" Height="50" Background="#00FF00" BorderBrush="{DynamicResource AppPrimaryBrush}" BorderThickness="2" Margin="0,0,15,0" CornerRadius="5">
                                    <TextBlock x:Name="PrimaryHexText" Text="#00FF00" Foreground="Black" FontFamily="Consolas" FontSize="14" FontWeight="Bold" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <Button Content="?? Choose Color" Click="PickPrimaryColor_Click" Padding="20,12" FontSize="13" FontWeight="Bold"
                                       Background="#004080" Foreground="White" BorderBrush="#00BFFF" BorderThickness="2">
                                    <Button.Effect>
                                        <DropShadowEffect Color="#00BFFF" BlurRadius="8" ShadowDepth="0"/>
                                    </Button.Effect>
                                </Button>
                            </StackPanel>
                            
                            <Separator Margin="0,15,0,15" Background="#333"/>
                            
                            <!-- Action Buttons -->
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <Button Content="?? SAVE COLORS" Click="SaveColors_Click" Background="#006600" Foreground="White" BorderBrush="#00FF00" BorderThickness="2" FontWeight="Bold" FontSize="14" Padding="25,12" Margin="5">
                                    <Button.Effect>
                                        <DropShadowEffect Color="#00FF00" BlurRadius="10" ShadowDepth="0"/>
                                    </Button.Effect>
                                </Button>
                                
                                <Button Content="?? RESET TO DEFAULT" Click="ResetToDefault_Click" Background="#804000" Foreground="White" BorderBrush="#FFA500" BorderThickness="2" FontWeight="Bold" FontSize="14" Padding="25,12" Margin="5">
                                    <Button.Effect>
                                        <DropShadowEffect Color="#FFA500" BlurRadius="10" ShadowDepth="0"/>
                                    </Button.Effect>
                                </Button>
                            </StackPanel>
                            
                            <TextBlock Text="?? Click 'Choose Color' to pick from a color wheel. Changes apply instantly!" FontSize="11" Foreground="#888888" TextAlignment="Center" Margin="0,15,0,0" TextWrapping="Wrap" FontStyle="Italic"/>
                        </StackPanel>
                    </Border>
                    
                    <Separator Margin="0,10,0,20"/>
                    
                    <!-- Other Settings -->
                    <TextBlock Text="Application Settings" FontSize="16" Foreground="#00BFFF" Margin="0,0,0,10"/>
                    <CheckBox Content="Auto-start on Windows" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                    <CheckBox Content="Minimize to tray" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                    <CheckBox Content="Enable notifications" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                    
                    <Separator Margin="0,20"/>
                    
                    <!-- Candy-Bot Settings -->
                    <TextBlock Text="Candy-Bot Settings" FontSize="16" Foreground="#00BFFF" Margin="0,0,0,10"/>
                    <CheckBox Content="Enable voice mode" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                    <CheckBox Content="Quiet mode" Foreground="{DynamicResource AppPrimaryBrush}" Margin="0,5"/>
                    
                    <Separator Margin="0,20"/>
                    
                    <!-- Admin Tools -->
                    <Border x:Name="AdminToolsSection" Background="#0A0A0A" BorderBrush="#FF1493" BorderThickness="2" Padding="15" Margin="0,0,0,20" Visibility="Collapsed">
                        <StackPanel>
                            <TextBlock Text="?? ADMIN TOOLS" FontSize="16" Foreground="#FF1493" FontWeight="Bold" Margin="0,0,0,10"/>
                            <Button x:Name="DiagnoseRoleButton" Content="?? Diagnose Role Issues" Click="DiagnoseRole_Click" Style="{StaticResource SpaceButton}" Margin="0,5" HorizontalAlignment="Left"/>
                        </StackPanel>
                    </Border>
                    
                    <Separator Margin="0,20"/>
                    
                    <!-- Delete Account -->
                    <Border Background="#1A0000" BorderBrush="#FF0000" BorderThickness="2" Padding="15" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="?? DANGER ZONE" FontSize="16" Foreground="#FF0000" FontWeight="Bold" Margin="0,0,0,10"/>
                            <TextBlock Text="Type 'delete' to confirm:" Foreground="#FF6666" Margin="0,5,0,5" FontWeight="Bold"/>
                            <TextBox x:Name="DeleteConfirmTextBox" Width="150" Background="#0A0A0A" Foreground="#FF0000" BorderBrush="#FF0000" FontFamily="Consolas" TextChanged="DeleteConfirmTextBox_TextChanged" HorizontalAlignment="Left" Margin="0,5"/>
                            <Button x:Name="DeleteAccountButton" Content="? DELETE MY ACCOUNT" Click="DeleteAccount_Click" Background="#8B0000" Foreground="White" BorderBrush="#FF0000" BorderThickness="2" FontWeight="Bold" Padding="15,8" Margin="0,10,0,0" HorizontalAlignment="Left" IsEnabled="False"/>
                            <TextBlock x:Name="AdminWarningText" Text="? Admins cannot delete their own accounts" FontSize="10" Foreground="#FF8888" Margin="0,10,0,0" Visibility="Collapsed" FontWeight="Bold"/>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>
        </Border>
    </Grid>
</UserControl>
